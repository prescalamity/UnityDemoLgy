<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta name="renderer" content="webkit">
    <link rel="shortcut icon" href="favicon.ico">
    <title>UnityDemoL</title>
    <style>
      html,body{margin: 0;padding: 0;width:100%; height:100%;}
      canvas { display:block; }
    </style>
  </head>
  <body style="text-align: center">
    <canvas id="unity-canvas" width="480" height="800"  style="position:absolute; top:50%; left:50%; margin:0 auto; background: #231F20"></canvas>
    <!--注意这个出包的文件名字写死的，不同项目需要改这个名字： xxx.loader.js -->
    <script src="Build/lgyWebGL.loader.js"></script>
    <script>
      //极速模式提示信息-最简练的判断方式
      if (navigator.userAgent.indexOf(".NET") > -1) {
        var svg_ie = "<svg t='1587836980741' class='icon' style='width: 2em; height: 2em; vertical-align: middle; fill: currentcolor; overflow: hidden; font-size:30px;' viewBox='0 0 1024 1024' version='1.1' p-id='2422' width='32' height='32'><path d='M804.5 334c12.7-44 16.7-129.9-62.1-140.5C679 184.9 604 227.2 564.5 253.3c-13-1.8-26.6-3-41-3.1-102.7-1.3-169.4 33.6-225.9 107.5-20.8 27.2-39.3 73.3-45.1 125.6 29.2-49.6 116.3-139.1 209.9-175.9 0 0-140.5 100.4-209.4 243.7l-0.2 0.2c0.1 0.7 0.1 1.4 0.2 2.1-2.9 6.5-6 13-8.8 19.9-68.6 168.5-12.5 241.4 38.8 255 47.3 12.4 113.8-10.7 166.7-67.5 90.6 21.3 179.5-2.6 213.4-21.2 63.6-34.9 106.8-96.5 117-159.8L606.7 579.8c0 0-7.3 56.1-100.4 56.1-85.8 0-89.4-99.3-89.4-99.3l368.7 0c0 0 7-107-45.9-178.3-29.3-39.6-69.5-74.5-125.4-93.3 17.1-12.6 46.6-32.2 71.5-38.7 47.2-12.3 79.5-5 99.8 29.3 27.5 46.7-15.2 156-15.2 156S791.3 380 804.5 334zM423.6 753.4c-73 59.4-133.5 52.9-156.8 17.1-20.2-31.2-23.8-87.3-0.1-163.7 11.1 29.6 28.5 58.3 54.3 83.8C352.4 721.6 387.7 741.3 423.6 753.4zM420.9 444.9c0 0 3.7-70.4 80.2-76.8 66.8-5.5 101.3 23.6 111.6 80.2L420.9 444.9z' p-id='2423' fill='#51b72f' data-spm-anchor-id='a313x.7781069.0.i11'></path></svg>";
        var html = document.querySelector("html");
        html.innerHTML = "<div style='position:fixed;width: 100%;height: 100%;background:white;z-index:999999999999;font-size:30px;'><p style='font-family: \"Microsoft YaHei\"'>检测当前浏览器运行的是兼容模式。为了更好的体验游戏，建议您切用<b style='color:#51b72f'>极速模式</b><br>操作方式：点击浏览器地址栏右侧的IE符号" + svg_ie + "→选择“<b style='color:#51b72f;'>极速模式</b>”</p></div>";
        html.style.overflow = "hidden";
      }

      //调整高度
      window.onload = function(){
        window.addEventListener('resize', resizeCanvas, false);
        function resizeCanvas(){
            var detlaHeigh = 20
            canvas = document.getElementById("unity-canvas");
            if (canvas.height < window.innerHeight)
            {
                canvas.height = window.innerHeight - detlaHeigh;
				        canvas.width = canvas.height*0.6;
            }
            canvas.style.top = detlaHeigh*0.5 + "px"
            canvas.style.left = (window.innerWidth - canvas.width)*0.5 + "px"
        }
        resizeCanvas();
      }
      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)) {
        // Mobile device style: fill the whole browser client area with the game canvas:
        var meta = document.createElement('meta');
        meta.name = 'viewport';
        meta.content = 'width=device-width, height=device-height, initial-scale=1.0, user-scalable=no, shrink-to-fit=yes';
        document.getElementsByTagName('head')[0].appendChild(meta);
      }

      //注意这个出包的文件名字写死的，不同项目需要改这个名字： xxx...
      createUnityInstance(document.querySelector("#unity-canvas"), {
        dataUrl: "Build/lgyWebGL.data",
        frameworkUrl: "Build/lgyWebGL.framework.js",
        codeUrl: "Build/lgyWebGL.wasm",
        streamingAssetsUrl: "StreamingAssets",
        companyName: "UnityDemoL",
        productName: "UnityDemoL",
        productVersion: "1.0.0",
         matchWebGLToCanvasSize: false, // Uncomment this to separately control WebGL canvas render size and DOM element size.
        // devicePixelRatio: 1, // Uncomment this to override low DPI rendering on high DPI displays.
      });
    </script>
    <script type="text/javascript">
      function loadLib(url,callback)
      {
          var script = document.createElement("script");
          script.src = url;
          script.async = false;
          script.onload = function () { callback && callback() };
          document.body.appendChild(script);
      }
      window.loadLib = loadLib;
    </script>
    <script type="text/javascript" src="StreamingAssets/Index.js"></script>
  </body>
</html>
